apply plugin: 'java-library'
apply plugin: 'kotlin'

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    //implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"

    compileOnly "com.android.tools.lint:lint-api:27.0.0"
    compileOnly "com.android.tools.lint:lint-checks:27.0.0"
    compileOnly "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.72"
    //testApi "com.android.tools.lint:lint:27.0.1"
    compileOnly "com.android.tools.lint:lint-tests:27.0.1"
    testImplementation "com.android.tools.lint:lint-tests:27.0.1"
    testImplementation 'junit:junit:4.12'

}
sourceCompatibility = "1.8"
targetCompatibility = "1.8"

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}
jar {
    manifest {
        attributes('Lint-Registry-v2': 'com.example.lint_rules.IssueRegistry')
    }
}